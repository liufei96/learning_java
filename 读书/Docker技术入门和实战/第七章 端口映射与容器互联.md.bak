# 定义

所谓差分数组，就是将一个数组中后一项减去前一项形成新的数组

如：

```shell
原数组 5 4 7 2 4 3 1

进行后一项减去前一项,第一项不变
5 、(4-5) 、(7-4)、(2-7)、(4-2)、(3-4)、(1-3)

差分数组:5 -1 3 -5 2 -1 -2
```

## 性质

最主要的性质：差分数组求**前缀和**结果等于原数组

接着用上面的样例
对差分数组求前缀和
5、4、7、2、4、3、1

# 用途

差分数组最主要用于对数组部分区间进行**同时加上或减去一个数**

```shell
原数组: 5 4 7 2 4 3 1
数组下标:0 1 2 3 4 5 6

我需要对下标从1~4 的元素,让他们同时加上1
也就是使原数组变为 5 5 8 3 5 3 1

```

最朴素的想法是从下标1一直遍历到4 使(a[1]~a[4])++
这样的复杂度为O(n)级别 在此题为O(4)
如果有区间长度为1w 甚至1亿长的元素需要++操作呢?
这时候就要使用差分数组来完成

```
差分数组:5 -1 3 -5 2 -1 -2
下标------ 0 1 2 3 4 5 6


```

![image-20220821173808627](.\image\image-20220821173808627.png)

![img](./image/image-20220821173808627.png)